var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function b(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let $;function _(t){$=t}function x(){const t=function(){if(!$)throw new Error("Function called outside component initialization");return $}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function k(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const E=[],C=[],S=[],L=[],A=Promise.resolve();let O=!1;function R(t){S.push(t)}let T=!1;const P=new Set;function U(){if(!T){T=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];_(e),j(e.$$)}for(_(null),E.length=0;C.length;)C.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];P.has(e)||(P.add(e),e())}S.length=0}while(E.length);for(;L.length;)L.pop()();O=!1,T=!1,P.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const N=new Set;let B;function H(){B={r:0,c:[],p:B}}function I(){B.r||o(B.c),B=B.p}function D(t,e){t&&t.i&&(N.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),B.c.push((()=>{N.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function q(t){t&&t.c()}function K(t,n,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a&&a.m(n,i),s||R((()=>{const n=c.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(R)}function F(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(E.push(t),O||(O=!0,A.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,r,i,s,a,c,l,h=[-1]){const p=$;_(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:r.target||p.$$.root};l&&l(f.root);let d=!1;if(f.ctx=i?i(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&J(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();r.intro&&D(e.$$.fragment),K(e,r.target,r.anchor,r.customElement),U()}_(p)}class G{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var V,Y,W=(V=function(t,e){t.exports=function(){var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=y,n=a,o=c,r=l,i=v,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t){for(var e,n=[],o=0,r=0,i="";null!=(e=s.exec(t));){var a=e[0],c=e[1],l=e.index;if(i+=t.slice(r,l),r=l+a.length,c)i+=c[1];else{i&&(n.push(i),i="");var u=e[2],p=e[3],f=e[4],d=e[5],m=e[6],g=e[7],v="+"===m||"*"===m,y="?"===m||"*"===m,w=u||"/",b=f||d||(g?".*":"[^"+w+"]+?");n.push({name:p||o++,prefix:u||"",delimiter:w,optional:y,repeat:v,pattern:h(b)})}}return r<t.length&&(i+=t.substr(r)),i&&n.push(i),n}function c(t){return l(a(t))}function l(e){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^"+e[o].pattern+"$"));return function(o){for(var r="",i=o||{},s=0;s<e.length;s++){var a=e[s];if("string"!=typeof a){var c,l=i[a.name];if(null==l){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(t(l)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(c=encodeURIComponent(l[u]),!n[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=(0===u?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(l),!n[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=a.prefix+c}}else r+=a}return r}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function h(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function p(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function d(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return p(t,e)}function m(t,e,n){for(var o=[],r=0;r<t.length;r++)o.push(y(t[r],e,n).source);return p(new RegExp("(?:"+o.join("|")+")",f(n)),e)}function g(t,e,n){for(var o=a(t),r=v(o,n),i=0;i<o.length;i++)"string"!=typeof o[i]&&e.push(o[i]);return p(r,e)}function v(t,e){for(var n=(e=e||{}).strict,o=!1!==e.end,r="",i=t[t.length-1],s="string"==typeof i&&/\/$/.test(i),a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)r+=u(c);else{var l=u(c.prefix),h=c.pattern;c.repeat&&(h+="(?:"+l+h+")*"),r+=h=c.optional?l?"(?:"+l+"("+h+"))?":"("+h+")?":l+"("+h+")"}}return n||(r=(s?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=o?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+r,f(e))}function y(e,n,o){return t(n=n||[])?o||(o={}):(o=n,n=[]),e instanceof RegExp?d(e,n):t(e)?m(e,n,o):g(e,n,o)}e.parse=n,e.compile=o,e.tokensToFunction=r,e.tokensToRegExp=i;var w,b="undefined"!=typeof document,$="undefined"!=typeof window,_="undefined"!=typeof history,x="undefined"!=typeof process,k=b&&document.ontouchstart?"touchstart":"click",E=$&&!(!window.history.location&&!window.location);function C(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function S(){var t=new C;function e(){return L.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=S,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=R,e.Route=T,e}function L(t,e){if("function"==typeof t)return L.call(this,"*",t);if("function"==typeof e)for(var n=new T(t,null,this),o=1;o<arguments.length;++o)this.callbacks.push(n.middleware(arguments[o]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function A(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?E&&this._getBase()+n.location.hash.replace("#!",""):E&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,E&&(n.location.href=t.canonicalPath))}}function O(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function R(t,e,n){var o=this.page=n||L,r=o._window,i=o._hashbang,s=o._getBase();"/"===t[0]&&0!==t.indexOf(s)&&(t=s+(i?"#!":"")+t);var a=t.indexOf("?");this.canonicalPath=t;var c=new RegExp("^"+O(s));if(this.path=t.replace(c,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=b&&r.document.title,this.state=e||{},this.state.path=t,this.querystring=~a?o._decodeURLEncodedURIComponent(t.slice(a+1)):"",this.pathname=o._decodeURLEncodedURIComponent(~a?t.slice(0,a):t),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var l=this.path.split("#");this.path=this.pathname=l[0],this.hash=o._decodeURLEncodedURIComponent(l[1])||"",this.querystring=this.querystring.split("#")[0]}}function T(t,n,o){var r=this.page=o||P,i=n||{};i.strict=i.strict||r._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],i)}C.prototype.configure=function(t){var e=t||{};this._window=e.window||$&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&$,this._click=!1!==e.click&&b,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):$&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(k,this.clickHandler,!1):b&&n.document.removeEventListener(k,this.clickHandler,!1),this._hashbang&&$&&!_?n.addEventListener("hashchange",this._onpopstate,!1):$&&n.removeEventListener("hashchange",this._onpopstate,!1)},C.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},C.prototype._getBase=function(){var t=this._base;if(t)return t;var e=$&&this._window&&this._window.location;return $&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},C.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},C.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,E){var o=this._window.location;n=this._hashbang&&~o.hash.indexOf("#!")?o.hash.substr(2)+o.search:this._hashbang?o.search+o.hash:o.pathname+o.search+o.hash}this.replace(n,null,!0,e.dispatch)}},C.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(k,this.clickHandler,!1),$&&t.removeEventListener("popstate",this._onpopstate,!1),$&&t.removeEventListener("hashchange",this._onpopstate,!1)}},C.prototype.show=function(t,e,n,o){var r=new R(t,e,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,!1!==n&&this.dispatch(r,i),!1!==r.handled&&!1!==o&&r.pushState(),r},C.prototype.back=function(t,e){var n=this;if(this.len>0){var o=this._window;_&&o.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},C.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&L.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},C.prototype.replace=function(t,e,n,o){var r=new R(t,e,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),!1!==o&&this.dispatch(r,i),r},C.prototype.dispatch=function(t,e){var n=0,o=0,r=this;function i(){var t=r.exits[o++];if(!t)return s();t(e,i)}function s(){var e=r.callbacks[n++];if(t.path===r.current)return e?void e(t,s):A.call(r,t);t.handled=!1}e?i():s()},C.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new T(t,null,this),o=1;o<arguments.length;++o)this.exits.push(n.middleware(arguments[o]))},C.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var o=0;o<n.length;o++)if(n[o].nodeName&&"A"===n[o].nodeName.toUpperCase()&&n[o].href){e=n[o];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var r="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(r?e.target.baseVal:e.target)&&(r||this.sameOrigin(e.href))){var s=r?e.href.baseVal:e.pathname+e.search+(e.hash||"");s="/"!==s[0]?"/"+s:s,x&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,c=this._getBase();0===s.indexOf(c)&&(s=s.substr(c.length)),this._hashbang&&(s=s.replace("#!","")),(!c||a!==s||E&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(a))}}}}},C.prototype._onpopstate=(w=!1,$?(b&&"complete"===document.readyState?w=!0:window.addEventListener("load",(function(){setTimeout((function(){w=!0}),0)})),function(t){if(w){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(E){var o=e._window.location;e.show(o.pathname+o.search+o.hash,void 0,void 0,!1)}}}):function(){}),C.prototype._which=function(t){return null==(t=t||$&&this._window.event).which?t.button:t.which},C.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&E)return new URL(t,e.location.toString());if(b){var n=e.document.createElement("a");return n.href=t,n}},C.prototype.sameOrigin=function(t){if(!t||!E)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},C.prototype._samePath=function(t){if(!E)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},C.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},R.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,_&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.save=function(){var t=this.page;_&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},T.prototype.middleware=function(t){var e=this;return function(n,o){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,o);o()}},T.prototype.match=function(t,e){var n=this.keys,o=t.indexOf("?"),r=~o?t.slice(0,o):t,i=this.regexp.exec(decodeURIComponent(r));if(!i)return!1;delete e[0];for(var s=1,a=i.length;s<a;++s){var c=n[s-1],l=this.page._decodeURLEncodedURIComponent(i[s]);void 0===l&&hasOwnProperty.call(e,c.name)||(e[c.name]=l)}return!0};var P=S(),U=P,j=P;return U.default=j,U}()},V(Y={exports:{}},Y.exports),Y.exports);function Z(t,e,n){const o=t.slice();return o[4]=e[n],o}function Q(t){let e,n,o,r=t[4]+"";return{c(){e=p("option"),n=f(r),e.__value=o=t[4],e.value=e.__value},m(t,o){l(t,e,o),c(e,n)},p(t,i){2&i&&r!==(r=t[4]+"")&&y(n,r),2&i&&o!==(o=t[4])&&(e.__value=o,e.value=e.__value)},d(t){t&&u(e)}}}function X(e){let n,o,r,i,s,a=e[1],c=[];for(let t=0;t<a.length;t+=1)c[t]=Q(Z(e,a,t));return{c(){n=p("input"),o=d(),r=p("datalist");for(let t=0;t<c.length;t+=1)c[t].c();v(n,"list","hints"),v(n,"placeholder","Password hint"),v(n,"class","svelte-up24vr"),v(r,"id","hints")},m(t,a){l(t,n,a),w(n,e[0]),l(t,o,a),l(t,r,a);for(let t=0;t<c.length;t+=1)c[t].m(r,null);i||(s=m(n,"input",e[2]),i=!0)},p(t,[e]){if(1&e&&n.value!==t[0]&&w(n,t[0]),2&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const o=Z(t,a,n);c[n]?c[n].p(o,e):(c[n]=Q(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:t,o:t,d(t){t&&u(n),t&&u(o),t&&u(r),h(c,t),i=!1,s()}}}function tt(t,e,n){let{value:o=""}=e,r=["Your first name","Your last name","Your Slack handle","Your Github handle"];const i=localStorage.getItem("hints");if(i){const t=JSON.parse(i);r=[...t,...r.filter((e=>-1===t.indexOf(e)))]}return t.$$set=t=>{"value"in t&&n(0,o=t.value)},[o,r,function(){o=this.value,n(0,o)}]}class et extends G{constructor(t){super(),z(this,t,tt,X,i,{value:0})}}class nt{constructor(t){this.textEncoder=t}encode(t){return this.textEncoder.encode(this.removeDiacritics(t).toLowerCase())}removeDiacritics(t){return t.normalize("NFD").replace(/\p{Diacritic}/gu,"")}}class ot{async find(t){const e=await fetch("/api/v1/BinService/Find",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(200==e.status)return n;throw new Error(`BinService/Find: ${n.message}`)}async paste(t){const e=await fetch("/api/v1/BinService/Paste",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(200==e.status)return n;throw new Error(`BinService/Paste: ${n.message}`)}async submitPassword(t){t=t||{};const e=await fetch("/api/v1/BinService/SubmitPassword",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(200==e.status)return n;throw new Error(`BinService/SubmitPassword: ${n.message}`)}}function rt(t){let e,n,r,i,s,a,h,g,y,b,$,_,x,k,E,S,A,O,R,T,P,U,j;function N(e){t[13](e)}let B={};return void 0!==t[0]&&(B.value=t[0]),i=new et({props:B}),C.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(i,"value",N))),{c(){e=p("div"),n=p("label"),r=f("Hint decryption password\n                "),q(i.$$.fragment),a=d(),h=p("label"),g=f("Decryption password\n                "),y=p("input"),b=d(),$=p("label"),_=f("Content\n            "),x=p("textarea"),k=d(),E=p("fieldset"),S=p("label"),A=p("input"),O=f("\n                Burn on read"),R=d(),T=p("button"),T.textContent="Encrypt",v(n,"for","decryption-password-hint"),v(y,"type","text"),v(y,"id","decryption-password"),v(y,"name","decryption-password"),v(y,"placeholder","Password"),v(y,"class","svelte-1knwg61"),v(h,"for","decryption-password"),v(e,"class","grid"),v(x,"id","content"),v(x,"name","content"),v(x,"placeholder","Content to encrypt"),v(x,"rows","6"),v(x,"class","svelte-1knwg61"),v($,"for","content"),v(A,"type","checkbox"),v(A,"id","burn"),v(A,"name","burn"),v(A,"role","switch"),v(A,"class","svelte-1knwg61"),v(S,"for","burn"),v(T,"type","button")},m(o,s){l(o,e,s),c(e,n),c(n,r),K(i,n,null),c(e,a),c(e,h),c(h,g),c(h,y),w(y,t[1]),l(o,b,s),l(o,$,s),c($,_),c($,x),w(x,t[2]),l(o,k,s),l(o,E,s),c(E,S),c(S,A),A.checked=t[5],c(S,O),l(o,R,s),l(o,T,s),t[17](T),P=!0,U||(j=[m(y,"input",t[14]),m(x,"input",t[15]),m(A,"change",t[16]),m(T,"click",t[9])],U=!0)},p(t,e){const n={};!s&&1&e&&(s=!0,n.value=t[0],function(t){L.push(t)}((()=>s=!1))),i.$set(n),2&e&&y.value!==t[1]&&w(y,t[1]),4&e&&w(x,t[2]),32&e&&(A.checked=t[5])},i(t){P||(D(i.$$.fragment,t),P=!0)},o(t){M(i.$$.fragment,t),P=!1},d(n){n&&u(e),F(i),n&&u(b),n&&u($),n&&u(k),n&&u(E),n&&u(R),n&&u(T),t[17](null),U=!1,o(j)}}}function it(t){let e,n,r,i,s,a,h,g,$;return{c(){e=p("input"),n=d(),r=p("div"),i=p("button"),s=f(t[8]),a=d(),h=p("button"),h.textContent="Create New",v(e,"type","text"),b(e,"text-align","center"),e.readOnly=!0,v(e,"class","svelte-1knwg61"),v(i,"class","secondary"),v(i,"type","button"),v(h,"type","button"),v(r,"class","grid")},m(o,u){l(o,e,u),t[18](e),w(e,t[4]),l(o,n,u),l(o,r,u),c(r,i),c(i,s),c(r,a),c(r,h),g||($=[m(e,"input",t[19]),m(i,"click",t[10]),m(h,"click",t[11])],g=!0)},p(t,n){16&n&&e.value!==t[4]&&w(e,t[4]),256&n&&y(s,t[8])},d(i){i&&u(e),t[18](null),i&&u(n),i&&u(r),g=!1,o($)}}}function st(t){let e,n,o,r,i,s=!t[3]&&rt(t),a=t[3]&&it(t);return{c(){e=p("form"),s&&s.c(),n=d(),a&&a.c(),v(e,"autocomplete","off")},m(u,h){l(u,e,h),s&&s.m(e,null),c(e,n),a&&a.m(e,null),o=!0,r||(i=m(e,"submit",g(t[12])),r=!0)},p(t,[o]){t[3]?s&&(H(),M(s,1,1,(()=>{s=null})),I()):s?(s.p(t,o),8&o&&D(s,1)):(s=rt(t),s.c(),D(s,1),s.m(e,n)),t[3]?a?a.p(t,o):(a=it(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(t){o||(D(s),o=!0)},o(t){M(s),o=!1},d(t){t&&u(e),s&&s.d(),a&&a.d(),r=!1,i()}}}function at(t,e,n){const o=new ot;let r,i,s,a,c,l,u,h="",p=!0,f="Copy Link";return[r,i,s,a,h,p,c,l,f,async function(){c.setAttribute("aria-busy","true"),async function(t,e){const n=new TextEncoder,o=new nt(n),r=window.crypto.getRandomValues(new Uint8Array(16)),i=window.crypto.getRandomValues(new Uint8Array(12)),s=await window.crypto.subtle.importKey("raw",o.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),a=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:25e4,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!1,["encrypt"]),c=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},a,n.encode(t)),l=new Uint8Array(c);let u=new Uint8Array(r.byteLength+i.byteLength+l.byteLength);return u.set(r,0),u.set(i,r.byteLength),u.set(l,r.byteLength+i.byteLength),btoa(String.fromCharCode.apply(null,u))}(s,i).then((t=>{o.paste({hint:r,encrypted_content:t,burn_on_read:p}).then((t=>{n(2,s=""),n(3,a=t.id),n(4,h=`${document.location.origin}/paste/${a}`)})).catch((t=>{console.error(t)}))})).finally((()=>{c.setAttribute("aria-busy","false"),function(t){let e=localStorage.getItem("hints");if(!e)return void localStorage.setItem("hints",JSON.stringify([t]));let n=JSON.parse(e);n=[t,...n.filter((e=>e!==t))],localStorage.setItem("hints",JSON.stringify(n))}(r)}))},function(){u&&clearTimeout(u),l.setAttribute("aria-invalid","false"),l.select(),document.execCommand("copy"),n(8,f="Link Copied!"),u=setTimeout((function(){l&&(l.removeAttribute("aria-invalid"),n(8,f="Copy Link"))}),2e3)},function(){n(0,r=""),n(1,i=""),n(3,a=""),n(4,h="")},function(e){k.call(this,t,e)},function(t){r=t,n(0,r)},function(){i=this.value,n(1,i)},function(){s=this.value,n(2,s)},function(){p=this.checked,n(5,p)},function(t){C[t?"unshift":"push"]((()=>{c=t,n(6,c)}))},function(t){C[t?"unshift":"push"]((()=>{l=t,n(7,l)}))},function(){h=this.value,n(4,h)}]}class ct extends G{constructor(t){super(),z(this,t,at,st,i,{})}}function lt(e){let n;return{c(){n=p("div"),n.innerHTML='<h1>404</h1> \n    <p>Looks like you are lost</p> \n    <a href="/">Home page</a>',v(n,"class","svelte-kpn7pf")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class ut extends G{constructor(t){super(),z(this,t,null,lt,i,{})}}function ht(t){let e,n;return e=new ut({}),{c(){q(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function pt(t){let e,n,o,r,i=!t[2]&&ft(t),s=t[2]&&dt(t);return{c(){e=p("form"),i&&i.c(),n=d(),s&&s.c(),v(e,"autocomplete","off")},m(a,u){l(a,e,u),i&&i.m(e,null),c(e,n),s&&s.m(e,null),o||(r=m(e,"submit",g(t[4])),o=!0)},p(t,o){t[2]?i&&(i.d(1),i=null):i?i.p(t,o):(i=ft(t),i.c(),i.m(e,n)),t[2]?s?s.p(t,o):(s=dt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&u(e),i&&i.d(),s&&s.d(),o=!1,r()}}}function ft(t){let e,n,r,i,s;return{c(){e=p("input"),n=d(),r=p("button"),r.textContent="Submit",v(e,"type","text"),v(e,"id","decryption-password"),v(e,"name","decryption-password"),v(e,"placeholder",t[1]),v(e,"class","svelte-9r1n4a"),v(r,"type","button")},m(o,a){l(o,e,a),w(e,t[3]),l(o,n,a),l(o,r,a),i||(s=[m(e,"input",t[6]),m(r,"click",t[4])],i=!0)},p(t,n){2&n&&v(e,"placeholder",t[1]),8&n&&e.value!==t[3]&&w(e,t[3])},d(t){t&&u(e),t&&u(n),t&&u(r),i=!1,o(s)}}}function dt(t){let e,n,o,r,i,s,a;return{c(){e=p("label"),n=f("Content\n                "),o=p("textarea"),r=d(),i=p("a"),i.textContent="New Paste",v(o,"id","content"),v(o,"name","content"),v(o,"placeholder","Content to encrypt"),v(o,"rows","8"),o.readOnly=!0,v(o,"class","svelte-9r1n4a"),v(e,"for","content"),v(i,"href","/"),v(i,"role","button")},m(u,h){l(u,e,h),c(e,n),c(e,o),w(o,t[2]),l(u,r,h),l(u,i,h),s||(a=m(o,"input",t[7]),s=!0)},p(t,e){4&e&&w(o,t[2])},d(t){t&&u(e),t&&u(r),t&&u(i),s=!1,a()}}}function mt(t){let e,n,o,r=t[0]&&ht(),i=!t[0]&&pt(t);return{c(){r&&r.c(),e=d(),i&&i.c(),n=f("")},m(t,s){r&&r.m(t,s),l(t,e,s),i&&i.m(t,s),l(t,n,s),o=!0},p(t,[o]){t[0]?r?1&o&&D(r,1):(r=ht(),r.c(),D(r,1),r.m(e.parentNode,e)):r&&(H(),M(r,1,1,(()=>{r=null})),I()),t[0]?i&&(i.d(1),i=null):i?i.p(t,o):(i=pt(t),i.c(),i.m(n.parentNode,n))},i(t){o||(D(r),o=!0)},o(t){M(r),o=!1},d(t){r&&r.d(t),t&&u(e),i&&i.d(t),t&&u(n)}}}function gt(t,e,n){let{parameters:o}=e;const r=new ot,i=x();let s,a,c=!1,l="";return r.find({id:o.id}).then((t=>{n(1,s=t.hint)})).catch((t=>{t.message.endsWith("paste not found")?n(0,c=!0):i("error",{message:t.message})})).finally((()=>{})),t.$$set=t=>{"parameters"in t&&n(5,o=t.parameters)},[c,s,a,l,function(){r.submitPassword({id:o.id,password:l}).then((t=>{n(2,a=t.content)})).catch((t=>{(t.message.endsWith("paste deleted")||t.message.endsWith("paste not found"))&&n(0,c=!0),i("error",{message:t.message})})).finally((()=>{}))},o,function(){l=this.value,n(3,l)},function(){a=this.value,n(2,a)}]}class vt extends G{constructor(t){super(),z(this,t,gt,mt,i,{parameters:5})}}const yt=[];function wt(t,e,n){const o=t.slice();return o[3]=e[n][0],o[4]=e[n][1],o}function bt(t){let e,n,o,r=t[4].content+"";return{c(){e=p("article"),n=f(r),v(e,"class",o=a(t[4].type)+" svelte-yvn9ko")},m(t,o){l(t,e,o),c(e,n)},p(t,i){1&i&&r!==(r=t[4].content+"")&&y(n,r),1&i&&o!==(o=a(t[4].type)+" svelte-yvn9ko")&&v(e,"class",o)},d(t){t&&u(e)}}}function $t(e){let n,o,r=Object.entries(e[0]),i=[];for(let t=0;t<r.length;t+=1)i[t]=bt(wt(e,r,t));return{c(){n=p("div"),o=p("div");for(let t=0;t<i.length;t+=1)i[t].c();v(o,"class","svelte-yvn9ko"),v(n,"class","svelte-yvn9ko")},m(t,e){l(t,n,e),c(n,o);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(t,[e]){if(1&e){let n;for(r=Object.entries(t[0]),n=0;n<r.length;n+=1){const s=wt(t,r,n);i[n]?i[n].p(s,e):(i[n]=bt(s),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},i:t,o:t,d(t){t&&u(n),h(i,t)}}}function _t(e,n,o){let r,a=function(e,n=t){let o;const r=new Set;function s(t){if(i(e,t)&&(e=t,o)){const t=!yt.length;for(const t of r)t[1](),yt.push(t,e);if(t){for(let t=0;t<yt.length;t+=2)yt[t][0](yt[t+1]);yt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const c=[i,a];return r.add(c),1===r.size&&(o=n(s)||t),i(e),()=>{r.delete(c),0===r.size&&(o(),o=null)}}}}({});return s(e,a,(t=>o(0,r=t))),[r,a,function(t){const e=new Date;var n,o;setTimeout((function(){delete r[e.toString()],a.set(r)}),2500),n=a,r[e.toString()]={type:"danger",content:t.detail.message},o=r,n.set(o)}]}class xt extends G{constructor(t){super(),z(this,t,_t,$t,i,{spawnError:2})}get spawnError(){return this.$$.ctx[2]}}function kt(t){let e,n,o,r,i,s,a,h,f,m,g,y,w;o=new xt({props:{}}),t[3](o);var $=t[0];function _(t){return{props:{parameters:t[1]}}}return $&&(m=new $(_(t)),m.$on("error",t[4])),{c(){e=p("a"),e.innerHTML='<img src="/github_ribbon.svg" alt="github ribbon"/>',n=d(),q(o.$$.fragment),r=d(),i=p("div"),s=p("header"),s.innerHTML='<nav><hgroup style="margin: auto 0;"><h2>cryptbin</h2> \n\t\t\t\t<h3>share secrets privately</h3></hgroup> \n\t\t\t<hgroup style="margin: auto 0;"><a href="https://buymeacoffee.com/dariusme"><img style="height: 2em;" src="https://www.buymeacoffee.com/assets/img/guidelines/download-assets-sm-1.svg" alt="Buy me a coffee"/></a></hgroup></nav>',a=d(),h=p("main"),f=p("div"),m&&q(m.$$.fragment),g=d(),y=p("footer"),y.innerHTML='<div style="text-align: center; padding: 1em 0;"><small style="opacity: .5;">Messages are AES encrypted in browser and stored in server&#39;s RAM for 15 minutes. After 3 unssuccesful password inputs, message will be deleted.</small></div>',v(e,"id","forkme"),b(e,"position","absolute"),b(e,"right","0"),b(e,"top","0"),v(e,"href","https://github.com/damejeras/cryptbin"),v(e,"class","svelte-qhvw08"),v(s,"class","svelte-qhvw08"),v(h,"class","svelte-qhvw08"),v(i,"class","layout container svelte-qhvw08")},m(t,u){l(t,e,u),l(t,n,u),K(o,t,u),l(t,r,u),l(t,i,u),c(i,s),c(i,a),c(i,h),c(h,f),m&&K(m,f,null),c(i,g),c(i,y),w=!0},p(t,[e]){o.$set({});const n={};if(2&e&&(n.parameters=t[1]),$!==($=t[0])){if(m){H();const t=m;M(t.$$.fragment,1,0,(()=>{F(t,1)})),I()}$?(m=new $(_(t)),m.$on("error",t[4]),q(m.$$.fragment),D(m.$$.fragment,1),K(m,f,null)):m=null}else $&&m.$set(n)},i(t){w||(D(o.$$.fragment,t),m&&D(m.$$.fragment,t),w=!0)},o(t){M(o.$$.fragment,t),m&&M(m.$$.fragment,t),w=!1},d(s){s&&u(e),s&&u(n),t[3](null),F(o,s),s&&u(r),s&&u(i),m&&F(m)}}}function Et(t,e,n){let o,r,i;W("/",(()=>{n(0,o=ct)})),W("/paste/:id",((t,e)=>{n(1,r=t.params),e()}),(()=>{n(0,o=vt)})),W("*",(()=>{n(0,o=ut)})),W.start();return[o,r,i,function(t){C[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},t=>i.spawnError(t)]}return new class extends G{constructor(t){super(),z(this,t,Et,kt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
